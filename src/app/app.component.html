<form autocomplete="off" novalidate (ngSubmit)="onSubmit()">

  <lib-country-selector
    [field]="loginForm.country"
    [allowedCountryCodes]="allowedCountryCode()"
    [countryListConfig]="config"
    [selectedCountryConfig]="selectedConfig"
    [loading]="loading()"
    label="Country"
    [clearable]="!shouldCountryLocked()"
    [customNaming]="{ gb: 'United Kingdom' }"
    (onCountryChange)="onCountryChange($event)"
    error="Country is required"
  ></lib-country-selector>

  <mat-form-field appearance="outline">
    <mat-label>username</mat-label>
    <input matInput placeholder="username" [field]="loginForm.username" />

    @if (loginForm.username().touched() && loginForm.username().invalid()) {
      <mat-error>
        {{ loginForm.username().errors()[0]?.message ?? 'username is required' }}
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Password</mat-label>
    <input matInput type="password" placeholder="Enter your password" [field]="loginForm.password" />

    @if (loginForm.password().touched() && loginForm.password().invalid()) {
      <mat-error>
        {{ loginForm.password().errors()[0]?.message ?? 'Password is required' }}
      </mat-error>
    }
  </mat-form-field>

  <button type="submit" mat-raised-button color="primary" class="w-100">Login</button>
</form>

<span>Selected Country: {{ selectedCountry()?.name }}</span>
